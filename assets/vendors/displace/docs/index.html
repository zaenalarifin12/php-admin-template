<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>displace.js</title>
		
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen+Mono" rel="stylesheet">
		
		<link rel="stylesheet" href="./style.css">

		<meta name="description" content="Displace.js is a minimal javascript library for creating movable DOM elements.">
        <meta property="og:url" content="https://catc.github.io/displace">
        <meta property="og:type" content="website">
        <meta property="og:title" content="displace.js">
        <meta property="og:description" content="A minimal javascript library for creating moveable DOM elements.">
        <meta property="og:image" content="https://avatars0.githubusercontent.com/u/5651132?v=3&s=460">
	</head>

	<body>
		<!-- intro -->
		<header class="intro">
			<h1>displace.js</h1>
			<p class="intro__description">A minimal javascript library for creating moveable DOM elements.</p>

			<ul class="intro__info">
				<li>lightweight, ~1.2kb gzipped</li>
				<li>supports mobile touch</li>
				<li>no dependencies/bloat</li>
				<li>IE9+</li>
			</ul>

			<nav class="intro__table-of-contents">
				<a href="https://github.com/catc/displace">
					<span class="i-github"></span>
					Source
				</a>
				<a href="https://raw.githubusercontent.com/catc/displace/master/dist/displace.min.js">
					<span class="i-download"></span>
					Download
				</a>
				<a href="#demo">
					<span class="i-power-plug"></span>
					Demo
				</a>
			</nav>
		</header>

		<!-- installation + usage -->
		<section>
			<div class="non-code">
				<h2>Installation and Usage</h2>
				Install via npm:
			</div>

<pre class="code-block"><code class="shell"># install
$ npm install --save displacejs
</code></pre>
<pre class="code-block"><code class="javascript">// reference
import displace from 'displacejs';
</code></pre>			

			<div class="non-code">
				<p class="content">If not installing via npm or using a global browser version, get the latest <code class="inline">dist/displace.min.js</code> script. Include it in your html and reference it via <code class="inline">window.displacejs</code>.</p>
			</div>

			<br><br>

			<div class="non-code">
				<p class="content">Usage is simple, just initialize with an element and any <a href="#options">options</a>.</p>
			</div>
				
<pre class="code-block"><code class="javascript">const element = document.querySelector('.element')
const d = displace(element, options);
</code></pre>
		</section>

		<!-- api -->
		<section class="non-code">
			<h2>API</h2>
			<h4><code>displace(element, options)</code></h4>
			<p class="content">Instantiates new displace instance on a DOM element.</p>
			
			<div class="api">
				<h3>Methods</h3>
				<h4><code>displace.reinit()</code></h4>
				<p class="content">Runs setup again. Useful when divs have been changed or resized.</p>
				<h4><code>displace.destroy()</code></h4>
				<p class="content">Removes event listeners and destroys instance.</p>

				<h3 id="options">Options</h3>
				<h4><code>options.constrain</code></h4>
				<p class="content">Constrains element to its parent container.</p>
				<p class="content">
					<strong>Type: </strong><em>boolean</em>
					<strong class="tab">Default: </strong><code class="inline">false</code>
				</p>
				
				<h4><code>options.relativeTo</code></h4>
				<p class="content">Constrains element to the specified dome element. Requires <code class="inline">options.constrain</code> to be <code class="inline">true</code>.</p>
				<p class="content">
					<strong>Type: </strong><em>DOM element</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.handle</code></h4>
				<p class="content">Assigns a child element as the moveable handle for the parent element.</p>
				<p class="content">
					<strong>Type: </strong><em>DOM element</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.highlightInputs</code></h4>
				<p class="content">Allows you to highlight text in inputs and textareas by disabling drag events originating from those elements.</p>
				<p class="content">
					<strong>Type: </strong><em>boolean</em>
					<strong class="tab">Default: </strong><code class="inline">false</code>
				</p>

				<h4><code>options.customMove</code></h4>
				<p class="content">Function that overrides how x and y are being set on the displaced element as it's moved. Function called with: <code class="inline">(element, newX, newY)</code></p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h3 id="events">Events</h3>
				
				<p class="content top-space"><span class="api-info i-info-with-circle"></span>Event triggered functions are called with two arguments: the DOM element being triggered and the original event.</p>

				<h4><code>options.onMouseDown</code></h4>
				<p class="content">Function that is triggered when the DOM element is clicked.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.onMouseMove</code></h4>
				<p class="content">Function that is triggered when the DOM element is being moved.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.onMouseUp</code></h4>
				<p class="content">Function that is triggered when user mouse-ups the moveable DOM element.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.onTouchStart</code></h4>
				<p class="content">Function that is triggered when user initiates a touch start events on element.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.onTouchMove</code></h4>
				<p class="content">Function that is triggered when user moves the element via touch event.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

				<h4><code>options.onTouchStop</code></h4>
				<p class="content">Function that is triggered when user ends touch event.</p>
				<p class="content">
					<strong>Type: </strong><em>function</em>
					<strong class="tab">Default: </strong><code class="inline">null</code>
				</p>

			</div>
		</section>

		<!-- dmo -->
		<section class="demo non-code" id="demo">
			<h2>Demo</h2>
			
			<h3>Basic usage</h3>
			<div class="demo__wrapper">
				<div class="demo__actions">
					<button>Standard</button><button>Constrain</button><button>Relative to</button><button>Events</button><button>Handle</button>
				</div>

				<div class="demo__selected-example">
					<pre class="demo__code code-block"><code class="javascript">
						
					</code></pre>

					<div class="demo__boxes box-1">
						<span class="demo__tag">Box 1</span>
						<div class="demo__one">
							<span class="demo__tag">Box 2</span>
							<div class="demo__two box-3">
								<span class="demo__tag">Box 3</span>
								<span class="moveable"><span class="moveable__msg">Drag me</span></span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<h3>Magnifier</h3>
			<div class="magnifier-demo">
				<div class="magnifier-demo__image-wrapper">
					<img id="magnifier-img" src="https://images.unsplash.com/26/city-scape.jpg?dpr=2&auto=format&fit=crop&w=1199&h=799&q=80&cs=tinysrgb&crop=">
					<span class="magnifier-demo__zoomer"></span>
				</div>
				<div class="magnifier-demo__zoom-preview"></div>
				
				<p>
					<a href="https://gist.github.com/catc/efd9afa98eae411619a898059f8b35b5" target="_blank" class="magnifier-demo__code-link">View code</a>
					<span class="magnifier-demo__photo-ref"><a href="https://unsplash.com/@andersjilden?photo=nrLtvA05jk8" target="_blank">Photo</a> by <a href="https://unsplash.com/@andersjilden" _blank>Anders Jild√©n</a></span>
				</p>
			</div>

			<h3>Sorting</h3>
			<div class="sorting-demo">
				<div class="sorting-demo__wrapper">
					<span class="sorting-demo__corner top-left">
						<span data-name="top left" class="sorting-demo__progress"></span>
					</span>
					<span class="sorting-demo__corner top-right">
						<span data-name="top right" class="sorting-demo__progress"></span>	
					</span>
					<span class="sorting-demo__corner bottom-left">
						<span data-name="bottom left" class="sorting-demo__progress"></span>	
					</span>
					<span class="sorting-demo__corner bottom-right">
						<span data-name="bottom right" class="sorting-demo__progress"></span>	
					</span>

					<span class="sorting-demo__sortable one"></span>
					<span class="sorting-demo__sortable two"></span>
					<span class="sorting-demo__sortable three"></span>
					<span class="sorting-demo__sortable four"></span>
				</div>
			</div>

			<div class="sorting-demo__options">
				<a href="https://gist.github.com/catc/a7588f6bae341bbc7c2dbc941e744f18" target="_blank" class="sorting-demo__code-link">View code</a>
				<button class="sorting-demo__reset-button">Reset demo</button>
			</div>

			<h3>Align to grid (via customFn)</h3>
			<div class="custom-fn">
				<div class="custom-fn__wrapper">
					<span class="custom-fn__div"></span>
				</div>
			</div>

			<a href="https://github.com/catc/displace/blob/master/docs/js/demos/custom-move.js" target="_blank"
					class="sorting-demo__code-link">View code</a>

		</section>


		<!-- tips -->
		<section>
			<div class="non-code">
				<h2>Tips</h2>
				<p class="content">When styling your moveable element, it's best to set the position of the element as absolute and disable the user-select via css:</p>
			</div>

<pre class="code-block"><code class="css">.your-element {
    position: absolute;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
</code></pre>

			<div class="non-code">
				<p class="content">If Chrome complains about: <strong>Unable to preventDefault inside passive event listener due to target being treated as passive</strong>. Add the appropriate touch action css:
				</p>
			</div>

<pre class="code-block"><code class="css">.your-element {
    touch-action: none;
}
</code></pre>

			<div class="non-code">
				<p class="content"><a href="https://github.com/bevacqua/dragula/issues/468">See this issue</a>
				</p>
			</div>
		</section>
		

		<!-- contributing -->
		<section class="non-code">
			<h2>Contributing</h2>
			<p class="content">
				Contributing If you find any bugs, have feature requests, or would like to contribute - either send me a pull request or open a ticket and I'll do my best to follow up on it. 
				<br><br>
 				Developed and maintained by <a href="https://github.com/catc">Catalin Covic</a> under the <a href="http://opensource.org/licenses/MIT">MIT license</a>.
			</p>
		</section>
		
		<script src="./bundle.js"></script>
	</body>
</html>